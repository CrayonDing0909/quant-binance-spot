---
alwaysApply: true
---
# Recent Changes (Rolling Log)

Agent åœ¨æ¯æ¬¡ session çµæŸæ™‚æ›´æ–°æ­¤æª”æ¡ˆã€‚ä¿ç•™æœ€è¿‘ 30 å¤©çš„æ¢ç›®ï¼Œè¶…éçš„åˆªé™¤ã€‚
æ–° Chat é–‹å•Ÿæ™‚ agent å¯å¾æ­¤è™•äº†è§£æœ€è¿‘ç™¼ç”Ÿçš„æ‰€æœ‰è®Šæ›´ã€‚

---

## 2026-02-25

### Overlay ä¸€è‡´æ€§å¯©è¨ˆèˆ‡ä¿®æ­£ï¼ˆ4 é …ï¼‰
- æ–°å¢ `scripts/research_overlay_4way.py` â€” 4-Way æ¯”è¼ƒè…³æœ¬ï¼ˆR3C Â±overlay Ã— MetaBlend Â±overlayï¼Œ8 å¹£ç¨®ï¼‰ï¼Œçµæœå¯«å…¥ `reports/research/overlay_4way/`
- ä¿®æ”¹ `.cursor/rules/backtest.mdc` â€” æ–°å¢ Overlay Audit Rulesï¼ˆå ±å‘Šå¿…é ˆæ¨™è¨» overlay ON/OFFã€æ¯”è¼ƒéœ€æä¾› with/withoutã€ablation æ•¸æ“šè¦æ±‚ï¼‰
- ä¿®æ”¹ `config/prod_candidate_meta_blend.yaml` â€” æ ¹æ“š ablation æ•¸æ“šå•Ÿç”¨ vol_pause overlayï¼ˆSharpe +1.105ï¼‰ï¼Œæ›´æ–°é©—è­‰æ•¸æ“šï¼ˆPortfolio SR 2.306, MDD -3.7%, Calmar 5.02ï¼‰
- ä¿®æ”¹ `src/qtrade/live/signal_generator.py` â€” ä¿®å¾© live overlay OI è¼‰å…¥ç¼ºå¤±ï¼ˆåŸæœ¬ç¡¬ç·¨ç¢¼ `oi_series=None`ï¼Œæ”¹ç‚ºèˆ‡ backtest ä¸€è‡´çš„è‡ªå‹•è¼‰å…¥é‚è¼¯ï¼‰
- é‡æ–°ç”Ÿæˆ `docs/CLI_REFERENCE.md`

### Rules / Commands / Workflow ä¸€è‡´æ€§ä¿®æ­£ï¼ˆ8 è™•ï¼‰
- ä¿®æ”¹ `.cursor/rules/project-overview.mdc` â€” æ›´æ–° Handoff Rulesï¼ˆDeveloper ä¸è·‘ WFAã€æ–°å¢ config-freeze æ­¥é©Ÿï¼‰ã€æ›´æ–° Workflow åœ–ï¼ˆæ’å…¥ Developer config-freeze ç¯€é»ï¼‰ã€æ›´æ–° Agent Scope æ¬„ä½
- ä¿®æ”¹ `.cursor/rules/backtest.mdc` â€” Validation Stack å€å¡ŠåŠ å…¥åˆ†å·¥ noteï¼ˆDeveloper åªè·‘ --quickï¼Œå®Œæ•´é©—è­‰ç”± Researcher åŸ·è¡Œï¼‰
- ä¿®æ”¹ `.cursor/rules/strategy-dev.mdc` â€” Development Lifecycle Step 4 åŠ å…¥é©—è­‰åˆ†å·¥èªªæ˜
- ä¿®æ”¹ `.cursor/commands/backtest.md` â€” ç§»é™¤ WFAï¼Œæ”¹ç‚ºå›æ¸¬ + --quick é©—è­‰
- ä¿®æ”¹ `.cursor/commands/research-audit.md` â€” æ“´å……ç‚ºå®Œæ•´é©—è­‰ pipelineï¼ˆæ–°å¢ CPCVã€Cost Stressã€Delay Stressï¼‰
- ä¿®æ”¹ `docs/CURSOR_WORKFLOW.md` â€” Mode A/B åŠ å…¥ config-freeze æ­¥é©Ÿã€é€ŸæŸ¥è¡¨ç§»é™¤ WFAã€ä¸Šç·šå‰ checklist ä¿®æ­£ config å‰ç¶´å’Œ ownerã€æ–‡ä»¶ç”¢å‡ºè·¯å¾‘è¡¨ä¿®æ­£ç”Ÿç”¢é…ç½®å‰ç¶´ã€Slash Commands è¡¨åŠ å…¥ /config-freezeã€Risk Manager Next Steps æ›´æ–°
- æ–°å¢ `.cursor/commands/config-freeze.md` â€” å‡çµç ”ç©¶é…ç½®ç‚ºç”Ÿç”¢é…ç½®çš„å¿«æ·æŒ‡ä»¤

### Agent è·è²¬é‡æ¸…ï¼ˆ7 é …ä¿®æ­£ï¼‰
- ä¿®æ”¹ `.cursor/agents/quant-developer.md` â€” é‡æ¸…é©—è­‰åˆ†å·¥ï¼ˆDeveloper åªè·‘ `--quick`ï¼Œå®Œæ•´é©—è­‰äº¤ Researcherï¼‰ã€æ–°å¢ã€Œç”Ÿç”¢é…ç½®å‡çµã€è·è²¬ã€æ–°å¢ã€Œå…±ç”¨æ¨¡çµ„ç¶­è­·ã€è·è²¬ã€é‡æ¸…å‡èªªç¢ºèª vs å®šç¾©çš„åˆ†å·¥ï¼ˆMode A/Bï¼‰ã€æ–°å¢æ•¸æ“šä¸‹è¼‰æ­¥é©Ÿ
- ä¿®æ”¹ `.cursor/agents/quant-researcher.md` â€” æ–°å¢ã€Œé©—è­‰åˆ†å·¥åŸå‰‡ã€ï¼ˆç¨ç«‹é‡è·‘ï¼Œä¸ä¿¡ä»» Developer æ•¸å­—ï¼‰ã€æ–°å¢ã€Œä¸ä¿®æ”¹ src/qtrade/ ç¨‹å¼ç¢¼ã€è¦å‰‡
- ä¿®æ”¹ `.cursor/agents/alpha-researcher.md` â€” æ–°å¢ã€Œæ•¸æ“šç®¡ç†è·è²¬ã€åˆ†å·¥ã€æ–°å¢ã€Œåˆæ­¥é©—è­‰é‚Šç•Œã€ï¼ˆå¯ä»¥åš IC åˆ†æï¼Œä¸æ‡‰åš vectorbt å›æ¸¬ï¼‰
- ä¿®æ”¹ `.cursor/agents/risk-manager.md` â€” æ–°å¢ã€Œä¸ä¿®æ”¹ src/qtrade/ ç¨‹å¼ç¢¼ã€è¦å‰‡ã€æ–°å¢ã€Œæœˆåº¦å¯©æŸ¥åˆ†å·¥ã€ï¼ˆä¸»å° MC+ç›¸é—œæ€§+Kellyï¼Œç•°å¸¸äº¤ Researcher æ·±å…¥åˆ†æï¼‰
- ä¿®æ”¹ `.cursor/agents/devops.md` â€” æ–°å¢ã€Œä¸å»ºç«‹ç”Ÿç”¢é…ç½®ã€è¦å‰‡ã€æ–°å¢ã€Œæ•¸æ“šç®¡ç†åˆ†å·¥ã€ï¼ˆç”Ÿç”¢/æŒä¹…åŒ–éšæ®µç¨ä½”ï¼‰
- ä¿®æ”¹ `docs/STRATEGY_PORTFOLIO_GOVERNANCE.md` â€” çµ±ä¸€å®šæœŸå¯©æŸ¥æ’ç¨‹ï¼ˆæœˆåº¦ç”± Risk Manager ä¸»å°ï¼ŒResearcher åƒ…åœ¨ alpha decay ç•°å¸¸æ™‚ä»‹å…¥ï¼‰

### OI Liquidation Bounce ç­–ç•¥ï¼ˆå®Œæ•´ç”Ÿå‘½é€±æœŸï¼‰
- æ–°å¢ `src/qtrade/strategy/oi_liq_bounce_strategy.py` â€” OI æ¸…ç®—åå½ˆç­–ç•¥ v4.2
- æ–°å¢ `config/research_oi_liq_bounce.yaml` â€” 5-symbol long-only (BTC/ETH/SOL/DOGE/AVAX)
- é€šéå®Œæ•´é©—è­‰æ£§ï¼šDSR, WFA, Cost Stress, Delay Stress å…¨ PASS
- é€šéé¢¨æ§å¯©è¨ˆï¼šMonte Carlo 4/4 PASS, Portfolio Risk 3/3 PASS, APPROVED
- æ›´æ–° `project-overview.mdc` å’Œ `devops.md` è¨˜éŒ„å€™é¸ç‹€æ…‹

### ç­–ç•¥çµ„åˆç®¡ç†æ¡†æ¶ï¼ˆæ–°å·¥å…·éˆï¼‰
- æ–°å¢ `docs/STRATEGY_PORTFOLIO_GOVERNANCE.md` â€” ç­–ç•¥çµ„åˆæ²»ç†è¦ç¯„ï¼ˆç´å…¥/æ›¿æ›/é€€å ´æ¨™æº–ï¼‰
- æ–°å¢ `scripts/compare_strategies.py` â€” ç­–ç•¥æ¯”è¼ƒå·¥å…·ï¼ˆé‚Šéš› Sharpeã€ç›¸é—œæ€§çŸ©é™£ã€æœ€ä½³æ¬Šé‡ï¼‰
- æ–°å¢ `scripts/generate_blend_config.py` â€” meta_blend YAML é…ç½®è‡ªå‹•ç”Ÿæˆ
- ä¿®æ”¹ `scripts/run_portfolio_backtest.py` â€” æ–°å¢ `--multi-strategy` å¤šç­–ç•¥çµ„åˆå›æ¸¬æ¨¡å¼
- é‡æ–°ç”Ÿæˆ `docs/CLI_REFERENCE.md`

### è·¨ Chat çŸ¥è­˜åŒæ­¥æ©Ÿåˆ¶
- æ–°å¢ `.cursor/rules/session-checklist.mdc` â€” session çµæŸè‡ªæŸ¥ checklist
- æ–°å¢ `.cursor/rules/recent-changes.mdc` â€” æ»¾å‹•è®Šæ›´æ—¥èªŒï¼ˆæœ¬æª”æ¡ˆï¼‰
- æ›´æ–° `project-overview.mdc` â€” åŠ å…¥ meta_blend å€™é¸ã€ç­–ç•¥çµ„åˆç®¡ç†å·¥å…·éˆ
- æ›´æ–° `hygiene.mdc` â€” Living docs è¡¨åŠ å…¥ STRATEGY_PORTFOLIO_GOVERNANCE.md

### OI Liq Bounce Paper Trading éƒ¨ç½²
- **Bug Fix**: `BaseRunner._get_strategy_for_symbol()` æ–°å¢è‡ªå‹•æ³¨å…¥ `_data_dir`ï¼ˆä¿®æ­£ OI/FR ç­–ç•¥åœ¨ live æ¨¡å¼ä¸‹æ‹¿ä¸åˆ°è¼”åŠ©æ•¸æ“šã€è¿”å›å…¨ 0 ä¿¡è™Ÿçš„å•é¡Œï¼‰
- æ–°å¢ `config/prod_live_oi_liq_bounce.yaml` â€” å¥—ç”¨ Risk Audit æ¢ä»¶ï¼ˆposition_pct=0.50, circuit_breaker=10%, 1x leverageï¼‰
- Oracle Cloud éƒ¨ç½²ï¼štmux session `oi_liq_paper`ï¼Œèˆ‡ `r3c_e3_live` å¹³è¡Œé‹è¡Œ
- Paper trading èµ·å§‹æ—¥ï¼š2026-02-25ï¼Œç•¢æ¥­é–€æª»ï¼šâ‰¥ 2 weeks ç„¡ç•°å¸¸
- æ›´æ–° `devops.md` â€” OI Liq Bounce ç‹€æ…‹å¾ã€Œå€™é¸ã€æ›´æ–°ç‚ºã€ŒPaper Trading ä¸­ ğŸŸ¡ã€

### å¤š Runner æ•¸æ“šç®¡ç·šä¿®å¾©ï¼ˆ6 é …ï¼‰
- **P0 Fix**: `LiveWatchdog` è¼¸å‡ºç›®éŒ„æŒ‰ç­–ç•¥åéš”é›¢ï¼ˆ`reports/live_watchdog/{strategy_name}/`ï¼‰ï¼Œä¿®æ­£å¤š runner å…±ç”¨ PID æª”å°è‡´çš„å‡ critical å‘Šè­¦
- **P1 æ–°å¢**: `LiveWatchdog._check_oi_freshness()` â€” OI parquet mtime ç›£æ§ï¼Œwarn=6h / critical=12hï¼Œ`config/prod_live_oi_liq_bounce.yaml` å·²å•Ÿç”¨ `oi_freshness_enabled: true`
- **P1 Cron**: Oracle Cloud OI Binance API cron å¾ `*/4` æ”¹ç‚º `*/2`ï¼ˆæ¯ 2 å°æ™‚ï¼‰ï¼Œæ¸›å°‘ OI ç©ºçª—æœŸ
- **P2 æ–°å¢**: `BaseRunner._oi_cache` â€” OI è¨˜æ†¶é«”å¿«å–ï¼ˆæ¯ 30 åˆ†é˜åˆ·æ–°ï¼‰ï¼Œé¿å…æ¯æ¬¡ä¿¡è™Ÿç”Ÿæˆéƒ½è®€ parquet
- **P3 æ–°å¢**: `scripts/download_data.py --oi` â€” çµ±ä¸€æ•¸æ“šç®¡ç·šï¼Œ`oi_liq_bounce` ç­–ç•¥è‡ªå‹•è§¸ç™¼ OI ä¸‹è¼‰+åˆä½µ
- æ›´æ–° `devops.md` â€” æ•¸æ“šç®¡ç†å€å¡Šé‡å¯«ï¼ˆçµ±ä¸€æŒ‡ä»¤ã€cron åˆ—è¡¨ã€watchdog è·¯å¾‘èªªæ˜ï¼‰

### ç­–ç•¥é–‹ç™¼æµç¨‹ç¼ºå£å¯©è¨ˆèˆ‡ä¿®å¾©ï¼ˆ7 å€‹ç¼ºå£ï¼Œ3 å¤§å€åŸŸï¼‰
- **G1+G2**: ä¿®æ”¹ `docs/STRATEGY_DEV_PLAYBOOK_R2_1.md` â€” æ–°å¢ Stage D.5 Overlay Ablationï¼ˆ2Ã—2 å’Œ 3-way ablation å”è­°ï¼‰+ Section 7 é©—è­‰çŸ©é™£ï¼ˆV1-V12ï¼Œ12 é …å¿…æª¢ gateï¼ŒæŒ‡å®šè² è²¬äººå’Œé€šéæ¨™æº–ï¼‰+ æ›´æ–° Production Promotion Checklist
- **G3**: ä¿®æ”¹ `.cursor/agents/quant-developer.md` â€” å›æ¸¬å ±å‘Šæ¸…å–®æ–°å¢ overlay ç‹€æ…‹å’Œ ablation è¦æ±‚ã€è‡ªæˆ‘æª¢æŸ¥æ¸…å–®æ–°å¢ overlay ä¸€è‡´æ€§ + ablation ç¢ºèª
- **G3**: ä¿®æ”¹ `.cursor/agents/quant-researcher.md` â€” é©—è­‰ Pipeline æ–°å¢ç¬¬ 8 æ­¥ï¼ˆOverlay Consistency Checkï¼‰å’Œç¬¬ 9 æ­¥ï¼ˆPre-Deploy Consistency Check via `validate_live_consistency.py`ï¼‰ã€åˆ¤æ±ºæ¨™æº–åŠ è¨»ä¸€è‡´æ€§ gate å¿…é ˆé€šé
- **G4ï¼ˆæœ€é—œéµï¼‰**: ä¿®æ”¹ `scripts/validate_live_consistency.py` â€” æ–°å¢ `check_overlay_consistency` æª¢æŸ¥é …ï¼ˆoverlay mode/params ä¸€è‡´æ€§ã€OI æ•¸æ“šå¯ç”¨æ€§ã€BaseRunner _data_dir æ³¨å…¥é©—è­‰ï¼‰
- **G4**: ä¿®æ”¹ `src/qtrade/validation/consistency.py` â€” `ConsistencyValidator` æ–°å¢ `overlay_cfg` + `data_dir` åƒæ•¸ï¼Œ`_run_backtest_signals()` åŠ å…¥ overlay å¾Œè™•ç†ï¼ˆèˆ‡ backtest å’Œ live è·¯å¾‘ä¸€è‡´ï¼‰ï¼Œ`run_consistency_check()` è‡ªå‹•å‚³é overlay é…ç½®
- **G5**: ä¿®æ”¹ `.cursor/agents/risk-manager.md` â€” æ¯é€±å¿«é€Ÿæª¢æŸ¥æ–°å¢ã€Œå›æ¸¬â†”å¯¦ç›¤ä¸€è‡´æ€§ replayã€æ­¥é©Ÿï¼ˆæ¯å€‹åœ¨ç·šç­–ç•¥éƒ½è·‘ `validate_live_consistency.py`ï¼‰ï¼Œé€±å ±æ–°å¢ä¸€è‡´æ€§ç›¸é—œè­¦æˆ’æŒ‡æ¨™
- **G6**: æ˜ç¢ºæŒ‡æ´¾ï¼šResearcher åœ¨ GO_NEXT å‰å¿…è·‘ä¸€è‡´æ€§ã€Risk Manager æ¯é€± replay
- **G7**: ä¿®æ”¹ `.cursor/rules/strategy-dev.mdc` â€” Lifecycle æ–°å¢ç¬¬ 5 æ­¥ Overlay Ablationã€Anti-Patterns æ–°å¢ overlay ç›¸é—œç¦ä»¤
- ä¿®æ”¹ `docs/CURSOR_WORKFLOW.md` â€” ä¸Šç·šå‰ checklist æ–°å¢ Validation Matrixã€overlay ablationã€ä¸€è‡´æ€§æª¢æŸ¥ 3 é …
