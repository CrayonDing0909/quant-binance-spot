---
alwaysApply: true
---
# Project Overview — quant-binance-spot

Binance Spot/Futures quantitative trading system. Python 3.11, vectorbt-based backtesting.

## Environment

- **Activate venv first**: `source .venv/bin/activate` (Python 3.11 symlink)
- **Run scripts**: `PYTHONPATH=src python scripts/<script>.py -c config/<config>.yaml`
- **Run tests**: `python -m pytest tests/ -x -q --tb=short`
- **Install packages**: `python3.11 -m pip install <pkg>`

## Production Strategy

- **Active**: HTF Filter v2 + LSR (Simplified) — Meta-Blend 8-Symbol, 3x leverage
  - **Config**: `config/prod_candidate_simplified.yaml`
  - **Deployment**: Oracle Cloud, tmux `meta_blend_live`
  - **Key metrics**: Portfolio SR=3.85, MDD=-3.67%, Calmar=9.39, params -47%
  - **Launched**: 2026-02-28, observation → 2026-03-14
- **Rollback**: L1=`prod_candidate_htf_lsr.yaml` (SR=3.77), L2=`prod_candidate_htf_filter.yaml` (SR=2.75)
- **Shelved**: OI Liq Bounce (Time-in-market=4.2%, code preserved)

## Signal Convention

- **Spot**: `[0, 1]` — **Futures**: `[-1, 1]`
- Negative values auto-clipped for Spot

## Key Dataclasses

- `AppConfig` (`config.py`), `StrategyContext` (`strategy/base.py`), `BacktestResult` (`backtest/run_backtest.py`), `SignalResult` (`live/signal_generator.py`)

## Config Pattern

- Use `cfg.to_backtest_dict()` — never manually assemble
- Research: `config/research_*.yaml` — NEVER modify `prod_*` during research

## 5-Agent Workflow

```
Alpha Researcher → Quant Developer → Quant Researcher → Risk Manager → Developer (freeze) → DevOps
                                                                                              ↓
                                                                                         Production
```

| Agent | Scope |
|-------|-------|
| Alpha Researcher | Strategy discovery, EDA, Proposal |
| Quant Developer | Implementation, backtest, config freeze |
| Quant Researcher | Full validation (WFA/CPCV/DSR), verdict |
| Risk Manager | Pre-launch audit, periodic review |
| DevOps | Deployment, monitoring, data management |

## Directory Map

Full map: `docs/CLI_REFERENCE.md` (auto-generated). Key paths:

```
src/qtrade/{strategy,backtest,live,validation,data,risk,monitor}/
config/              ← Active configs (~15)
config/archive/      ← Deprecated configs
scripts/             ← Active scripts (~30)
.cursor/agents/      ← 5 agent definitions
.cursor/skills/      ← 18 skill files (alpha/dev/validation/risk/ops)
.cursor/rules/       ← Always-apply rules (anti-bias, hygiene, etc.)
```
