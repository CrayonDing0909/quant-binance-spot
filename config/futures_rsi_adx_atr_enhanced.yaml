# åˆç´„ç­–ç•¥é…ç½®ï¼šRSI + ADX + ATR å¢å¼·ç‰ˆ
# 
# èˆ‡åŸç‰ˆçš„å”¯ä¸€å·®ç•°ï¼šæ–°å¢éƒ¨åˆ†æ­¢ç›ˆæ©Ÿåˆ¶
#   - åˆ°é” 2 ATR å…ˆå¹³ä¸€åŠ
#   - å‰©é¤˜å€‰ä½æ­¢æç§»åˆ°ä¿æœ¬
#   - å¯é¸ï¼šéƒ¨åˆ†æ­¢ç›ˆå¾Œå•Ÿå‹•ç§»å‹•æ­¢æ
# 
# åŸºæœ¬åƒæ•¸èˆ‡åŸç‰ˆ (futures_rsi_adx_atr.yaml) å®Œå…¨ä¸€è‡´ï¼Œä¾¿æ–¼å…¬å¹³æ¯”è¼ƒ

market:
  symbols: ["BTCUSDT", "ETHUSDT"]
  interval: "1h"
  start: "2022-01-01"
  end: null
  market_type: "futures"

futures:
  leverage: 3
  margin_type: "ISOLATED"
  position_mode: "ONE_WAY"
  direction: "both"

strategy:
  name: "rsi_adx_atr_enhanced"
  params:
    # â”€â”€ RSI åƒæ•¸ï¼ˆèˆ‡åŸç‰ˆç›¸åŒï¼‰â”€â”€
    rsi_period: 10
    oversold: 30
    overbought: 70
    
    # â”€â”€ ADX éæ¿¾å™¨ï¼ˆèˆ‡åŸç‰ˆç›¸åŒï¼‰â”€â”€
    min_adx: 15
    adx_period: 14
    
    # â”€â”€ ATR æ­¢ææ­¢ç›ˆï¼ˆèˆ‡åŸç‰ˆç›¸åŒçš„æ­¢æï¼Œæ–°å¢éƒ¨åˆ†æ­¢ç›ˆï¼‰â”€â”€
    stop_loss_atr: 1.5
    take_profit_atr: 4.0
    atr_period: 14
    
    # â”€â”€ éƒ¨åˆ†æ­¢ç›ˆï¼ˆæ–°å¢åŠŸèƒ½ï¼‰â”€â”€
    partial_tp_atr: 2.0          # åˆ°é” 2 ATR å…ˆå¹³ä¸€åŠ
    partial_tp_ratio: 0.5        # å¹³ 50%
    trailing_stop_atr: null      # æš«ä¸å•Ÿç”¨ç§»å‹•æ­¢æ
    
    # â”€â”€ å†·å»æœŸï¼ˆèˆ‡åŸç‰ˆç›¸åŒï¼‰â”€â”€
    cooldown_bars: 1
    dynamic_cooldown: false      # ä¸å•Ÿç”¨å‹•æ…‹å†·å»

  # å¹£ç¨®å°ˆå±¬åƒæ•¸è¦†å¯«ï¼ˆèˆ‡åŸç‰ˆç›¸åŒï¼‰
  symbol_overrides:
    BTCUSDT:
      oversold: 30
      overbought: 70
    ETHUSDT:
      oversold: 35
      overbought: 65

backtest:
  initial_cash: 10000
  fee_bps: 4
  slippage_bps: 3
  trade_on: "next_open"
  validate_data: true
  clean_data: true

risk:
  max_drawdown_pct: 0.15

position_sizing:
  method: "fixed"
  position_pct: 1.0
  kelly_fraction: 0.25

portfolio:
  cash_reserve: 0.30
  allocation: null

notification:
  telegram_bot_token: ${FUTURES_TELEGRAM_BOT_TOKEN}
  telegram_chat_id: ${FUTURES_TELEGRAM_CHAT_ID}
  prefix: "ğŸŸ¡ [FUTURES-ENHANCED]"
  enabled: true

output:
  report_dir: "./reports/futures/rsi_adx_atr_enhanced"
