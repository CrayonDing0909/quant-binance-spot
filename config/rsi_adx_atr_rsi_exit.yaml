# ============================================================
# RSI + ADX + ATR 策略 — RSI Exit 配置
# ============================================================
#
# 與標準配置的區別：
#   - take_profit_atr: null（不使用固定止盈）
#   - 由 RSI overbought 信號決定出場時機
#   - 趨勢行情中讓利潤奔跑
#
# 初步測試結果（2023-2026 BTCUSDT）：
#   收益: +544%, Sharpe: 3.75, MDD: -7.56%, 勝率: 63.4%
#   優於固定 ATR TP 配置
# ============================================================

market:
  symbols: ["BTCUSDT", "ETHUSDT"]
  interval: "1h"
  start: "2023-01-01"  # 使用近期數據優化，避免過擬合歷史
  end: null

backtest:
  initial_cash: 10000
  fee_bps: 10          # 保守估計
  slippage_bps: 5
  trade_on: "next_open"
  validate_data: true
  clean_data: true

strategy:
  name: "rsi_adx_atr"
  params:
    # ── RSI 參數（待優化）──
    rsi_period: 14
    oversold: 35
    overbought: 70       # ⭐ RSI 出場關鍵參數
    
    # ── ADX 趨勢過濾（待優化）──
    min_adx: 20
    adx_period: 14
    
    # ── ATR 止損（待優化）──
    stop_loss_atr: 2.0   # 只有止損，沒有固定止盈
    take_profit_atr: null  # ⭐ 關鍵：null = 不使用固定止盈
    trailing_stop_atr: null
    atr_period: 14
    
    # ── 其他 ──
    cooldown_bars: 4
    htf_interval: null

  symbol_overrides:
    BTCUSDT:
      oversold: 35
    ETHUSDT:
      oversold: 35

risk:
  max_drawdown_pct: 0.25

position_sizing:
  method: "fixed"
  position_pct: 1.0

portfolio:
  cash_reserve: 0.20
  allocation: null

output:
  report_dir: "./reports/rsi_exit"
